"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[1342],{"1342":function(A){A.exports=JSON.parse('{"version":3,"sources":["src/components/cover-view/style/cover-view.scss?tag=taro-cover-view-core","src/components/cover-view/cover-view.tsx"],"names":["coverViewCss","CoverView","this","startTime","prototype","onTouchStart","_this","hoverClass","touch","setTimeout","hover","hoverStartTime","timeoutEvent","onLongPress","emit","Date","now","onTouchMove","clearTimeout","onTouchEnd","spanTime","hoverStayTime","render","cls","classNames","_a","concat","attr","animation","h","Host","Object","assign","class"],"mappings":"qIAAA,IAAMA,aAAe,0CCORC,UAAS,mGAaZC,KAAAC,UAAY,yEAVK,sBACD,eACP,iBACA,MAUjBF,EAAAG,UAAAC,aAAA,WAAA,IAAAC,EAAAJ,KACE,GAAIA,KAAKK,WAAY,CACnBL,KAAKM,MAAQ,KACbC,YAAW,WACT,GAAIH,EAAKE,MAAO,CACdF,EAAKI,MAAQ,QAEdR,KAAKS,gBAGVT,KAAKU,aAAeH,YAAW,WAC7BH,EAAKO,YAAYC,SAChB,KACHZ,KAAKC,UAAYY,KAAKC,OAIxBf,EAAAG,UAAAa,YAAA,WACEC,aAAahB,KAAKU,eAIpBX,EAAAG,UAAAe,WAAA,WAAA,IAAAb,EAAAJ,KACE,IAAMkB,EAAWL,KAAKC,MAAQd,KAAKC,UACnC,GAAIiB,EAAW,IAAK,CAClBF,aAAahB,KAAKU,cAEpB,GAAIV,KAAKK,WAAY,CACnBL,KAAKM,MAAQ,MACbC,YAAW,WACT,IAAKH,EAAKE,MAAO,CACfF,EAAKI,MAAQ,SAEdR,KAAKmB,iBAIZpB,EAAAG,UAAAkB,OAAA,iBACE,IAAMC,EAAMC,YAAUC,EAAA,GACpBA,EAAC,GAAAC,OAAGxB,KAAKK,aAAeL,KAAKQ,UAE/B,IAAIiB,EAAO,GACX,KAAMzB,KAAK0B,UAAW,CACpBD,EAAK,aAAezB,KAAK0B,UACzBD,EAAK,kBAAoBzB,KAAK0B,UAEhC,OACEC,EAACC,KAAIC,OAAAC,OAAA,CAACC,MAAOV,GAASI,GACpBE,EAAA,OAAA,iBAhEc","sourcesContent":["taro-cover-view-core {\\n  display: block;\\n}\\n","import { Component, Prop, h, ComponentInterface, Host, Listen, State, Event, EventEmitter } from \'@stencil/core\'\\nimport classNames from \'classnames\'\\n\\n@Component({\\n  tag: \'taro-cover-view-core\',\\n  styleUrl: \'./style/cover-view.scss\'\\n})\\nexport class CoverView implements ComponentInterface  {\\n  @Prop() animation: string\\n  @Prop() hoverClass: string\\n  @Prop() hoverStartTime = 50\\n  @Prop() hoverStayTime = 400\\n  @State() hover = false\\n  @State() touch = false\\n\\n  @Event({\\n    eventName: \'longpress\'\\n  }) onLongPress: EventEmitter\\n\\n  private timeoutEvent: ReturnType<typeof setTimeout>\\n  private startTime = 0\\n\\n  @Listen(\'touchstart\')\\n  onTouchStart () {\\n    if (this.hoverClass) {\\n      this.touch = true\\n      setTimeout(() => {\\n        if (this.touch) {\\n          this.hover = true\\n        }\\n      }, this.hoverStartTime)\\n    }\\n\\n    this.timeoutEvent = setTimeout(() => {\\n      this.onLongPress.emit()\\n    }, 350)\\n    this.startTime = Date.now()\\n  }\\n\\n  @Listen(\'touchmove\')\\n  onTouchMove () {\\n    clearTimeout(this.timeoutEvent)\\n  }\\n\\n  @Listen(\'touchend\')\\n  onTouchEnd () {\\n    const spanTime = Date.now() - this.startTime\\n    if (spanTime < 350) {\\n      clearTimeout(this.timeoutEvent)\\n    }\\n    if (this.hoverClass) {\\n      this.touch = false\\n      setTimeout(() => {\\n        if (!this.touch) {\\n          this.hover = false\\n        }\\n      }, this.hoverStayTime)\\n    }\\n  }\\n\\n  render() {\\n    const cls = classNames({\\n      [`${this.hoverClass}`]: this.hover\\n    })\\n    let attr = {}\\n    if (!!this.animation) {\\n      attr[\'animation\'] = this.animation\\n      attr[\'data-animation\'] = this.animation\\n    }\\n    return (\\n      <Host class={cls} {...attr}>\\n        <slot></slot>\\n      </Host>\\n    )\\n  }\\n}\\n"]}')}}]);